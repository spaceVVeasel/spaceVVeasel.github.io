[
{
	"uri": "https://spacevveasel.github.io/splunk/configs/",
	"title": "Configs",
	"tags": [],
	"description": "",
	"content": "collections.conf KVストアに用いるcollectionの設定ファイル。\n indexes.conf インデックスに関する設定ファイル。\n inputs.conf ログの取り込みに関する設定ファイル。\n macros.conf サーチマクロに関する設定ファイル。\n savedsearches.conf アラート等、テンプレート化したサーチを保存するファイル。\n transforms.conf フィールド抽出やlookup定義など、データの整形に関する設定ファイル。\n metadata 共有範囲・権限設定に関するファイル。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/logs/",
	"title": "Logs",
	"tags": [],
	"description": "",
	"content": "audit 監査関連のログ。 ログインや実行したサーチクエリなどが確認できる。\n internal システムログ。 Splunkの動作ログが記載される。\n introspection データ系？に関するログ。 CPUやディスク使用量、ライセンス消費に関するログが記載される。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/collections/",
	"title": "Collections",
	"tags": [],
	"description": "",
	"content": "enforceTypes = true|false  Indicates whether to enforce data types when inserting data into the\ncollection. When set to true, invalid insert operations fail. When set to false, invalid insert operations drop only the invalid field. Defaults to false.  データ型の指定を行うか設定する。\n field.\u0026lt;name\u0026gt; = number|bool|string|time  Field type for a field called . If the data type is not provided, the data type is inferred from the provided JSON\ndata type.  データ型を指定する。\nフィールド名はtransforms.confで定義するfields_listを参照する。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/logs/audit/",
	"title": "Audit",
	"tags": [],
	"description": "",
	"content": "splunkの_auditログはactionフィールドを確認することで分類できる。\nsearch サーチに関するログ\nuser : 実行ユーザ\nsavedsearch_name : savedsearches.confに設定されているサーチはスタンザ名が記載される。\nダッシュボード上で用いるbaseSearchはbaseSearch名が記載される。\nsearch : 実行されたサーチ。\nsearch_id : サーチID。サブサーチの場合、subsearch_\u0026lt;元のサーチID\u0026gt;のような値をとる。\nsearch_et : 検索期間の最も早い時間\nsearch_lt : 検索期間の最も遅い時間\ntotal_run_time : サーチの処理時間\nexec_time : サーチの実行時間\nis_realtime : リアルタイムサーチであるか否か\nresult_count : サーチの結果数\n splunkStarting Splunkの起動時に発生するログ。\n splunkShuttingDown Splunkの停止時に発生するログ。\n "
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/inputs/",
	"title": "Inputs",
	"tags": [],
	"description": "",
	"content": "host = \u0026lt;string\u0026gt;   Sets the host key/field to a static value for this input stanza.\n  The input uses this field during parsing and indexing. It also uses this\nfield at search time.\n  As a convenience, the input prepends the chosen string with \u0026lsquo;host::'.\n  If set to \u0026lsquo;$decideOnStartup\u0026rsquo;, sets the field to the hostname of executing\nmachine. This occurs on each splunkd startup.\n  If you run multiple instances of the software on the same machine (hardware\nor virtual machine), choose unique values for \u0026lsquo;host\u0026rsquo; to differentiate\nyour data, ex. myhost-sh-1 or myhost-idx-2.\n  Do not put the value in quotes. Use host=foo, not host=\u0026quot;foo\u0026rdquo;.\n  If you set \u0026lsquo;host\u0026rsquo; to \u0026ldquo;$decideOnStartup\u0026rdquo;, you can further control how splunkd\nderives the hostname by using the \u0026lsquo;hostnameOption\u0026rsquo; setting in server.conf.\n For example, if you want splunkd to use the fully qualified domain\nname for the machine, set \u0026ldquo;host = $decideOnStartup\u0026rdquo; in inputs.conf and\n\u0026ldquo;hostnameOption = fullyqualifiedname\u0026rdquo; in server.conf. More information on hostname options can be found in the server.conf\nspecification file.    If you remove the \u0026lsquo;host\u0026rsquo; setting from $SPLUNK_HOME/etc/system/local/inputs.conf\nor remove $SPLUNK_HOME/etc/system/local/inputs.conf, the setting changes to\n\u0026ldquo;$decideOnStartup\u0026rdquo;. Apps that need a resolved host value should use the\n\u0026lsquo;host_resolved\u0026rsquo; property in the response for the REST \u0026lsquo;GET\u0026rsquo; call of the\ninput source. This property is set to the hostname of the local Splunk\ninstance. It is a read only property that is not written to inputs.conf.\n  Default: \u0026ldquo;$decideOnStartup\u0026rdquo;, but at installation time, the setup logic\nadds the local hostname, as determined by DNS, to the\n$SPLUNK_HOME/etc/system/local/inputs.conf default stanza, which is the\neffective default value.\nhost名の指定。\n   index = \u0026lt;string\u0026gt;  Sets the index to store events from this input. Primarily used to specify the index to store events that come in through\nthis input stanza. Default: \u0026ldquo;main\u0026rdquo; (or whatever you have set as your default index).  取り込み先indexの指定\n sourcetype = \u0026lt;string\u0026gt;  Sets the sourcetype key/field for events from this input. Explicitly declares the source type for this input instead of letting\nit be determined through automated methods. This is important for\nsearch and for applying the relevant configuration for this data type\nduring parsing and indexing. Sets the sourcetype key initial value. The key is used during\nparsing or indexing to set the source type field during\nindexing. It is also the source type field used at search time. As a convenience, the chosen string is prepended with \u0026lsquo;sourcetype::'. Do not put the value in quotes: Use sourcetype=foo,\nnot sourcetype=\u0026quot;foo\u0026rdquo;. If not set, the indexer analyzes the data and chooses a source type. No default.  sourcetypeの指定\n crcSalt = \u0026lt;string\u0026gt;  Use this setting to force the input to consume files that have matching CRCs\n(cyclic redundancy checks).  By default, the input only performs CRC checks against the first 256\nbytes of a file. This behavior prevents the input from indexing the same\nfile twice, even though you might have renamed it, as with rolling log\nfiles, for example. Because the CRC is based on only the first\nfew lines of the file, it is possible for legitimately different files\nto have matching CRCs, particularly if they have identical headers.   If set, is added to the CRC. If set to the literal string \u0026ldquo;\u0026rdquo; (including the angle brackets), the\nfull directory path to the source file is added to the CRC. This ensures\nthat each file being monitored has a unique CRC. When \u0026lsquo;crcSalt\u0026rsquo; is invoked,\nit is usually set to . Be cautious about using this setting with rolling log files; it could lead\nto the log file being re-indexed after it has rolled. In many situations, \u0026lsquo;initCrcLength\u0026rsquo; can be used to achieve the same goals. Default: empty string  ファイルの先頭256BytesをCRCチェックすることで、\nローテーションされたファイルなどの同一ファイルを2重取り込みしないようにする。\nフィールドに\u0026lt;SOURCE\u0026gt;という文字列を記載した場合、ファイルパスを含めてCRCチェックを行う。\n’initCrcLength’の値を用いて、CRCチェックに使うBytes数を変更できる。\n initCrcLength = \u0026lt;integer\u0026gt;  How much of a file, in bytes, that the input reads before trying to\nidentify whether it is a file that has already been seen. You might want to\nadjust this if you have many files with common headers (comment headers,\nlong CSV headers, etc) and recurring filenames. Cannot be less than 256 or more than 1048576. CAUTION: Improper use of this setting causes data to be re-indexed. You\nmight want to consult with Splunk Support before adjusting this value - the\ndefault is fine for most installations. Default: 256 (bytes)  CRCチェックに用いるBytes数を指定する。\n"
},
{
	"uri": "https://spacevveasel.github.io/linux/",
	"title": "Linux",
	"tags": [],
	"description": "",
	"content": "logrotateの処理順  firstaction/endscriptの実行 ローテーション済みファイルのローテーション\n(例：test.1.gz-\u0026gt;test.2.gz) prerotate/endscriptの実行 対象ファイルのローテーション(例：test-\u0026gt;test.1) postrotate/endscriptの実行 ファイルの圧縮(例：test.1-\u0026gt;test.1.gz) preremove/endscriptの実行※ 圧縮元ファイルの削除(例：test.1の削除)※ preremove/endscriptの実行※ 期限切れファイルの削除(例：test.3.gzの削除)※ lastaction/endscriptの実行  ※preremoveはローテーション対象ファイル数分、繰り返し実行される。\n検証記事はブログへ\n anacron によるジョブの実行時刻について anacronはcronにより、1時間に1回起動される。\n(/etc/cron.hourly/0anacronにより、デフォルトでは毎時1分に起動される)\n設定ファイルは以下である。\n/etc/anacrontab\nSHELL=/bin/sh PATH=/sbin:/bin:/usr/sbin:/usr/bin MAILTO=root # the maximal random delay added to the base delay of the jobs RANDOM_DELAY=45 # the jobs will be started during the following hours only START_HOURS_RANGE=3-22 # period in days delay in minutes job-identifier command 1 5 cron.daily nice run-parts /etc/cron.daily 7 25 cron.daily nice run-parts /etc/cron.weekly @monthly 45 cron.daily nice run-parts /etc/cron.monthly anacronが起動された際に、以下の様に、ジョブの実行時刻を決定する。\nジョブの実行時刻 = anacronの起動時刻 + ランダム遅延時間 + ジョブ固有の遅延時間\nジョブの実行時刻がジョブの実行時間範囲内である場合、実行される。\nジョブの実行時刻がジョブの実行時間範囲内でない場合、スキップされる。\n ランダム遅延時間 = RANDOM_DELAY ジョブ固有の遅延時間 = delay in minutes ジョブの実行時間範囲 = START_HOURS_RANGE  また、ジョブの実行時刻が1時間以上後の場合、次回のジョブがスキップされる。\n以下にanacronの動作例を記載する。\n  02:01にanacronが起動\nRANDOM_DELAY = 40であったとする。\ncron.daily\n02:01 + ランダム遅延時間(40min) + ジョブ固有の遅延時間(5min) = 02:46\nジョブの実行時間範囲外であるため、実行されない\ncron.weekly\n02:01 + ランダム遅延時間(40min) + ジョブ固有の遅延時間(25min) = 03:06\nジョブの実行時間範囲内であるため、実行される。\ncron.monthly\n02:01 + ランダム遅延時間(40min) + ジョブ固有の遅延時間(45min) = 03:26\nジョブの実行時間範囲内であるため、実行される。\n  03:01にanacronが起動\n02:01に起動したanacronのジョブ実行時刻が03:01以降であるため、\nジョブ実行履歴ファイル(/var/spool/anacron/cron.*)をロックし続けており、スキップされる。\n  03:06 にcron.weeklyジョブが実行される。\n  03:26 にcron.monthlyジョブが実行される。\n  04:01にanacronが起動\nRANDOM_DELAY = 15であったとする。\ncron.daily\n04:01 + ランダム遅延時間(15min) + ジョブ固有の遅延時間(5min) = 04:21\nジョブの実行時間範囲内であるため、実行される。\ncron.weekly\n本日既に実行されているため、実行されない。\ncron.monthly\n本日既に実行されているため、実行されない。\n  04:21 にcron.dailyジョブが実行される。\n  05:01にanacronが起動\n本日既にすべてのジョブが実行されているため、何も実行されない。\n  参考URL\n 細かすぎて伝わらない anacron の挙動 RHEL 6のジョブスケジューラ「anacron」とは　Part1   ulimitと自動起動設定について /etc/security/limits.confにおいて、ulimitを設定しても、\nOSの自動起動によってプロセスが起動された場合、ulimitが適用されない。\n(ulimitとは、PAM認証を通ったユーザへのリソース設定であるため)\n起動方式によって、以下の様な対応をする。\n Systemd方式\nサービスに設定する\n/etc/systemd/system/\u0026lt;サービス名\u0026gt;  \\[Service] LimitNOFILE=64000 LimitNPROC=16000 LimitDATA=8000000000  SysVinit方式\n起動スクリプトにulimitを設定する。\n/etc/init.d/\u0026lt;プロセス名\u0026gt;   ulimit -n 64000 ulimit -u 16000 ulimit -d 8000000000  ファイルのタイムスタンプ Unix系のシステムは、ファイルのタイムスタンプが以下の三つある。\n   タイムスタンプ 名称 概要 ls による確認方法     atime access time 最後にファイルにアクセスした時間 ls -lu   ctime change time 最後にinodeが更新された時間(ファイル内容もしくは属性が更新された場合) ls -lc   mtime modify time 最後にファイル内容が更新された時間 ls -l    stat コマンドを用いればファイルの属性をすべて確認できる。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/",
	"title": "Splunk",
	"tags": [],
	"description": "",
	"content": "Splunkに関する個人的メモ  Configs\n.confファイルに関するメモ Logs\n内部ログに関するメモ Tips\nその他未分類のメモ  "
},
{
	"uri": "https://spacevveasel.github.io/squid/",
	"title": "Squid",
	"tags": [],
	"description": "",
	"content": "squid.conf 公式リファレンスへのリンク\nlogformat アクセスログのフォーマットを定義する。\naccess_log アクセスログに用いるフォーマットを指定する。\nフォーマットはlogformatで定義する。\nhttp_port Squidで用いるポートを指定する。\n主にSquidをフォワードプロキシとして用いる場合に用いる。\n  Modes\n  ssl-bump\nHTTPS通信を復号化し、再度暗号化して通信を行う。\nいわゆる Man-In-The-Middle プロキシ。\n  accel\nリバースプロキシモードとして用いる。\n    https_port Squidで用いるポートを指定する。\n主にSquidをリバースプロキシとして用い、SSLアクセラレータとして使用する場合に用いる。\nssl_bump  step SSLBump1   client-first\n最初にクライアントと接続を確立する。\n  server-first\n最初にサーバと接続を確立する。\n    acl Access Control List\nネットワークやポート等を用いてアクセス制限を行う。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/macros/",
	"title": "Macros",
	"tags": [],
	"description": "",
	"content": "args = \u0026lt;string\u0026gt;,\u0026lt;string\u0026gt;,\u0026hellip;  A comma-separated string of argument names. Argument names can only contain alphanumeric characters, underscores \u0026lsquo;_', and\nhyphens \u0026lsquo;-'. If the stanza name indicates that this macro takes no arguments, this\nsetting is ignored. This list cannot contain any repeated elements.  マクロで使用する引数を定義する。\n definition = \u0026lt;string\u0026gt;  The string that the macro will expand to, with the argument substitutions\nmade. (The exception is when iseval = true, see below.) Arguments to be substituted must be wrapped by dollar signs ($). For example:\n\u0026ldquo;the last part of this string will be replaced by the value of argument foo $foo$\u0026rdquo;. Splunk software replaces the $$ pattern globally in the string, even\ninside of quotes.  マクロの展開後のサーチ分を定義する。また、argsにて定義した引数は\u0026quot;$\u0026quot;で囲んで用いる。\n validation = \u0026lt;string\u0026gt;  A validation string that is an \u0026lsquo;eval\u0026rsquo; expression. This expression must\nevaluate to a boolean or a string. Use this setting to verify that the macro\u0026rsquo;s argument values are acceptable. If the validation expression is boolean, validation succeeds when it returns\ntrue. If it returns false or is NULL, validation fails and Splunk software\nreturns the error message defined by the \u0026lsquo;errormsg\u0026rsquo; setting. If the validation expression is not boolean, Splunk software expects it to\nreturn a string or NULL. If it returns NULL, validation is considered a success.\nOtherwise, the string returned is the error string.  引数の検証をおこなう。\n複雑な条件も、結果が１つのTFで返ってくるように定義すれば可能。\n errormsg = \u0026lt;string\u0026gt;  The error message to be displayed if validation is a boolean expression and\nit does not evaluate to true.  validationにおいて、結果がfalseであった場合に表示するエラーメッセージを記載する。\n iseval = true|false  If \u0026ldquo;true\u0026rdquo;, the definition attribute is expected to be an eval expression that\nreturns a string representing the expansion of this macro. Default: false.  trueにすると、\u0026ldquo;\u0026ldquo;で囲まずに値を返す模様(要検証)\n description = \u0026lt;string\u0026gt;  OPTIONAL. A simple english description of what the macro does.  マクロについての説明を記載する。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/metadata/",
	"title": "Metadata",
	"tags": [],
	"description": "",
	"content": "[] 空値スタンザはAppに関する設定となる。 Appに関する設定はmetadataファイルや明示的に指定されていないオブジェクトの設定となる。\n[\u0026lt;object_type\u0026gt;/\u0026lt;object_name\u0026gt;] object_type もしくは object_nameに対しての設定。 object_nameの方が優先される。\n access = read:[ \u0026lt;roles\u0026gt; ], write[ \u0026lt;roles\u0026gt; ] ファイルの読み込み、書き込みに関する権限設定を行う。\nユーザーロール単位で設定する。\n export = (none | system) 他Appへの共有設定。 共有しない場合はnone、共有する場合はsystemとする。\n owner = \u0026lt;user\u0026gt; 所有者の設定を行う。\n modtime = \u0026lt;epochtime\u0026gt; 修正時刻\n version = どのSplunkバージョンで設定されたかを記載する。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/savedsearches/",
	"title": "Savedsearches",
	"tags": [],
	"description": "",
	"content": "search = \u0026lt;string\u0026gt;  The actual search string for the saved search.\nFor example, \u0026lsquo;search = index::sampledata http NOT 500\u0026rsquo;. Your search can include macro searches for substitution. To learn more about creating a macro search, search the documentation for\n\u0026ldquo;macro search.\u0026rdquo; Multi-line search strings currently have some limitations. For example use\nwith the search command \u0026lsquo;|savedsearch\u0026rsquo; does not currently work with multi-line\nsearch strings. No default.  実行するサーチ文を入力する。\nサーチ文をconf内で改行する際は、行末に\u0026rdquo;\u0026quot;を入力する。\n cron_schedule = \u0026lt;cron string\u0026gt;  The cron schedule that is used to run this search. For example: */5 * * * * causes the search to run every 5 minutes. You can use standard cron notation to define your scheduled search interval.\nIn particular, cron can accept this type of notation: 00,20,40 * * * *, which\nruns the search every hour at hh:00, hh:20, hh:40.\nA cron of 03,23,43 * * * * runs the search every hour at hh:03, hh:23, hh:43. You should schedule your searches so that they are staggered over time.\nThis reduces system load. Running all of the saved searches every 20 minutes\n(*/20) means all of the searches would launch at hh:00 (20, 40) and might\nslow your system every 20 minutes. The Splunk cron implementation does not currently support names of\nmonths or days. No default.  実行時間をcron形式で入力する。\n realtime_schedule = [0|1]  Controls the way the scheduler computes the next run time of a\nscheduled search. If set to 1, the scheduler determines the next scheduled search run time\nbased on the current time.  NOTE: When set to 1, the scheduler might skip some execution periods\nto make sure that the scheduler is executing the searches that are running\nover the most recent time range.   If set to 0, the scheduler determines the next scheduled search run time\nbased on the last run time for the search. This is called continuous\nscheduling.  NOTE: When set to 0, the scheduler never skips scheduled execution periods.\nHowever, the execution of the saved search might fall behind\ndepending on the scheduler\u0026rsquo;s load. Use continuous scheduling whenever you enable the \u0026lsquo;summary index\u0026rsquo; option.   The scheduler tries to run searches that have \u0026lsquo;realtime_schedule\u0026rsquo; set to 1\nbefore it runs searches that have continuous scheduling\n(realtime_schedule = 0). Default: 1  0に設定するとアラートをスキップしないが実行が遅れる場合がある。\n1に設定するとアラートはスキップされる。\n schedule_priority = [ default | higher | highest ]  Raises the scheduling priority of a search:  When set to \u0026ldquo;default\u0026rdquo;, specifies that there is no increase to the scheduling\npriority. When set to \u0026ldquo;higher\u0026rdquo;, specifies that the scheduling priority is higher than\nother searches of the same scheduling tier. While there are four tiers of\npriority for scheduled searches, only the following are affected by this\nsetting:  Real-Time-Scheduled (realtime_schedule=1). Continuous-Scheduled (realtime_schedule=0).   When set to \u0026ldquo;highest\u0026rdquo;, specifies that the scheduling priority is higher\nthan other searches regardless of scheduling tier. However,\nreal-time-scheduled searches with \u0026lsquo;schedule_priority = highest\u0026rsquo; always have\npriority over continuous scheduled searches with \u0026lsquo;schedule_priority = highest\u0026rsquo;. The high-to-low order is:\nRTSS(H) \u0026gt; CSS(H) \u0026gt; RTSS(h) \u0026gt; RTSS(d) \u0026gt; CSS(h) \u0026gt; CSS(d)\nWhere:\nRTSS = real-time-scheduled search\nCSS = continuous-scheduled search\nd = default\nh = higher\nH = highest   The scheduler honors a non-default priority only when the search owner has\nthe \u0026lsquo;edit_search_schedule_priority\u0026rsquo; capability.  A non-default priority is mutually exclusive with a non-zero \u0026lsquo;schedule_window\u0026rsquo;\n(see below). If a user specifies both for a scheduled search, the scheduler\nhonors the priority only. However, if a user specifies both settings for a search, but the search owner\ndoes not have the \u0026lsquo;edit_search_scheduler_priority\u0026rsquo; capability, then the\nscheduler ignores the priority setting and honors the \u0026lsquo;schedule_window\u0026rsquo;.   CAUTION: Having too many searches with a non-default priority will impede the\nability of the scheduler to minimize search starvation. Use this setting\nonly for mission-critical searches. Default: default  アラートに優先度を設定する。\n必要なものにだけ、設定しないと効果が低い。\n counttype = [ number of events | number of hosts | number of sources | custom | always ]  Set the type of count for alerting. Used with the \u0026lsquo;relation\u0026rsquo; and \u0026lsquo;quantity\u0026rsquo; settings. NOTE: If you specify \u0026ldquo;always,\u0026rdquo; do not set \u0026lsquo;relation\u0026rsquo; or \u0026lsquo;quantity\u0026rsquo;. Default: always  \u0026ldquo;relation\u0026rdquo;、\u0026ldquo;quantity\u0026quot;とセットで用いる。\n relation = [ greater than | less than | equal to | not equal to | drops by | rises by ]  Specifies how to compare against \u0026lsquo;counttype\u0026rsquo;. Default: empty string  \u0026ldquo;counttype\u0026rdquo;、\u0026ldquo;quantity\u0026quot;とセットで用いる。\n quantity = \u0026lt;integer\u0026gt;  Specifies a value for the \u0026lsquo;counttype\u0026rsquo; and \u0026lsquo;relation\u0026rsquo;, to determine the condition\nunder which an alert is triggered by a saved search. Think of it as a sentence constructed like this: .  For example, \u0026ldquo;number of events [is] greater than 10\u0026rdquo; sends an alert when the\ncount of events is larger than by 10. For example, \u0026ldquo;number of events drops by 10%\u0026rdquo; sends an alert when the count of\nevents drops by 10%.   Default: empty string  \u0026ldquo;counttype\u0026rdquo;、\u0026ldquo;relation\u0026quot;とセットで用いる。\nイメージとしては、\u0026lt;counttype\u0026gt; \u0026lt;relation\u0026gt; \u0026lt;quantity\u0026gt;.\nアラートの発砲条件として、設定する。\n action.summary_index = 0 | 1  Enables or disables the summary index action. Specify 1 to enable, 0 to disable. Default: 0  アラートの結果をサマリインデックスに出力する。\n action.summary_index.inline = \u0026lt;boolean\u0026gt;  Specify whether to run the summary indexing action as part of the\nscheduled search. NOTE: This option is considered only if the summary index action is enabled\nand is always run (in other words, if \u0026lsquo;counttype = always\u0026rsquo;). Default: 1 (true)  アラートの結果を表示する際に、サーチ文にsummaryindexコマンドを追加して表示する。\n action.summary_index._name = \u0026lt;index\u0026gt;  Specifies the name of the summary index where the results of the scheduled\nsearch are saved. Default: summary  出力するサマリインデックスを指定する。\n dispatch.earliest_time = \u0026lt;time-str\u0026gt;  Specifies the earliest time for this search. Can be a relative or absolute\ntime. If this value is an absolute time, use the \u0026lsquo;dispatch.time_format\u0026rsquo; setting\nto format the value. Default: empty string  サーチの検索範囲を決定する。\n_timeの最古の時間を指定する。\n dispatch.latest_time = \u0026lt;time-str\u0026gt;  Specifies the latest time for this saved search. Can be a relative or\nabsolute time. If this value is an absolute time, use the \u0026lsquo;dispatch.time_format\u0026rsquo; setting\nto format the value. Default: empty string  サーチの検索範囲を決定する。\n_timeの最新の時間を指定する。\n dispatch.index_earliest= \u0026lt;time-str\u0026gt;  Specifies the earliest index time for this search. Can be a relative or\nabsolute time. If this value is an absolute time, use the \u0026lsquo;dispatch.time_format setting\nto format the value. Defaults to empty string.  サーチの検索範囲を決定する。\n_index_timeの最古の時間を指定する。\n dispatch.index_latest= \u0026lt;time-str\u0026gt;  Specifies the latest index time for this saved search. Can be a relative or\nabsolute time. If this value is an absolute time, use the \u0026lsquo;dispatch.time_format\u0026rsquo; setting\nto format the value. Default: empty string  サーチの検索範囲を決定する。\n_index_timeの最新の時間を指定する。\n alert.suppress = 0 | 1  Specifies whether alert suppression is enabled for this scheduled search. Default: 0 (false)  アラートを抑制するかどうか決定する。\n alert.suppress.period = \u0026lt;time-specifier\u0026gt;  Sets the suppression period. Use [number][time-unit] to specify a time. For example: 60 = 60 seconds, 1m = 1 minute, 1h = 60 minutes. Honored if and only if \u0026lsquo;alert.suppress = 1\u0026rsquo;. Default: empty string  アラートの抑制期間を設定する。\n alert.digest_mode = \u0026lt;boolean\u0026gt;  Specifies whether Splunk applies the alert actions to the entire result set\nor to each individual result. Default: true  アラートによる出力結果をまとめて出力するか、個別に出力するかを設定する。\n alert.track = \u0026lt;boolean\u0026gt; | auto  Specifies whether to track the actions triggered by this scheduled search.  auto - determine whether to track or not based on the tracking setting of\neach action, do not track scheduled searches that always trigger actions. true - force alert tracking. false - disable alert tracking for this search.   Default: auto  アラートを追跡するかどうか設定する。\nこの設定が auto の場合、counttype の設定値が always の時は追跡しない。\n alert.expires = \u0026lt;time-specifier\u0026gt;  Sets the period of time to show the alert on the Triggered Alerts page.  Use [number][time-unit] to specify a time. For example: 60s = 60 seconds, 1m = 1 minute, 1h = 60 minutes = 1 hour etc   This setting is only honored when \u0026lsquo;alert.track = true\u0026rsquo; (when the \u0026ldquo;Add to\nTriggered Alerts\u0026rdquo; action is selected for the alert in Splunk Web). This property is valid until splunkd restarts. Restart clears the listing of\ntriggered alerts. Default: 24h  Triggered Alertsとして記録するアラートの期間を設定する。\n※この機能を適用するためにはSplunkdの再起動が必要である。\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/logs/internal/",
	"title": "Internal",
	"tags": [],
	"description": "",
	"content": "_internalログ splunkの_internalログはComponentフィールドを確認することで分類できる。\n Metrics リソースの使用状況に関するログ。\ngroupによってさらに分類され、各機能の稼働状況を記録する\n  bucket_metrics\nバケツの状況に関するログ。\n現在のhotバケツの数などが確認できる。\n  searchscheduler\nScheduling Searchesの状況に関するログ。\neligible : 実行予定のサーチ数\ndelayed : 遅延したサーチ数\ndispatched : 実行されたサーチ数\nsuppressed : 抑制されえたサーチ数\n  queue\nnameを見ることで各種queueの状況を確認できる。\nrest command : |rest /services/server/introspection/queues\n   BucketMover バケツの状態の移行(Hot -\u0026gt; Cold,Cold-\u0026gt;Frozen)に関するログ。\nFrozen状態に移行する理由や、移行したバケツ情報のログが出力される。\n保存期間を過ぎたため削除された場合、以下のようなログが出力される。\nwill attempt to freeze: candidate='C:\\Program Files\\Splunk\\var\\lib\\splunk_introspection\\db\\db_1566816331_1566816331_37\u0026rsquo; because frozenTimePeriodInSecs=1209600 is exceeded by the difference between now=1587000072 and latest=1566816331\n保存容量を超えたため削除された場合、以下のようなログが出力される。\nwill attempt to freeze bkt=\u0026quot;C:\\Program Files\\Splunk\\var\\lib\\splunk\\test_delete\\db\\db_1573496341_1570127465_0\u0026rdquo; reason=\u0026rdquo; maxTotalDataSize=1048576 bytes, diskSize=7081984 bytes\u0026rdquo;\n HotBucketRoller HotBucketからの移行に関するログ。\nHotから移行したバケツ情報のログが出力される。\n DeployedServerclass ForwarderManagementに関するログ。\nForwarderに配布したAppsの更新・削除等のログが出力される。\n IniFile 設定ファイルに関するログ。\n設定ファイルのフォーマットの記載ミス等を表示すると思われる。\nSplunkの起動時等(おそらく設定ファイルの読み込み時)に出力される。\n TailReader モニタリングしているファイルの末尾に関するログ。\nSavedSplunker アラートに関するログ。\nアラートの実行時・終了時に出力される。\nscheduled_time(実行予定時間) : \u0026lt;epoch_time\u0026gt;\ndispatch_time(実行時間) : \u0026lt;epoch_time\u0026gt;\nstatus(実行結果) : (success|skipped)\nsuppressed(アラートの抑制結果) :(0|1)\n LicenseUsage ライセンスに関するログ。\ntypeによってさらに分類され、ライセンスグループやライセンス消費量などを記載する。\n Usage\nidx : 取り込みインデックス\nst : 取り込みソースタイプ\nh : 取り込みホスト\nb : ライセンス消費量(bytes)  "
},
{
	"uri": "https://spacevveasel.github.io/splunk/configs/transforms/",
	"title": "Transforms",
	"tags": [],
	"description": "",
	"content": "collection = \u0026lt;string\u0026gt;  Name of the collection to use for this lookup. Collection should be defined in $SPLUNK_HOME/etc/\u0026lt;app_name\u0026gt;/collections.conf\nfor some \u0026lt;app_name\u0026gt; If collection is in multiple collections.conf file, no layering is done. Standard conf file precedence is used to disambiguate. Defaults to empty string (in which case the name of the stanza is used).  lookupとして用いるcollectionを指定する。\n fields_list = \u0026lt;string\u0026gt;  A comma- and space-delimited list of all fields that are supported by the\nexternal command.  transformsで用いるフィールドのリスト\n external_type = [python|executable|kvstore|geo|geo_hex]  This setting describes the external lookup type. Use \u0026lsquo;python\u0026rsquo; for external lookups that use a python script. Use \u0026lsquo;executable\u0026rsquo; for external lookups that use a binary executable, such as a\nC++ executable. Use \u0026lsquo;kvstore\u0026rsquo; for KV store lookups. Use \u0026lsquo;geo\u0026rsquo; for geospatial lookups. \u0026lsquo;geo_hex\u0026rsquo; is reserved for the geo_hex H3 lookup. Default: python  lookupとして用いる外部ファイルを定義する。\n "
},
{
	"uri": "https://spacevveasel.github.io/splunk/logs/introspection/",
	"title": "Introspection",
	"tags": [],
	"description": "",
	"content": "_introspectionログ splunkの_introspectionログはComponentフィールドを確認することで分類できる。\nまた、ログに記載される情報はSPLUNK REST API の実行結果と思われる。\n Partitions Partitionの容量に関するログ。\ncapacity : ディスクの最大容量\nfree : ディスクの空き容量\navailable : ディスクの利用可能容量\nrest command : |rest /services/server/status/partitions-space\n Volumes Volumeの容量に関するログ。\nname : ボリューム名\nmax_size : ボリュームの最大値\nvolume_path: ボリュームのファイルパス\ntotal_size : ボリュームの合計値、data.max_sizeがInfiniteの場合、表示されない\nrest command : |rest /services/data/index-volumes\n IOStats ディスクI/Oに関するログ。\navg_total_ms : 平均実行処理数\ncpu_pct : CPU稼働率\ndevice : デバイス名\nfs_type : ファイルシステムタイプ\ninterval : サンプリング間隔\nmount_point : マウントポイント\nreads_kb_ps : 読み込み速度(kb/s)\nreads_ps : 読み込み要求数\nwrites_kb_ps : 書き込み速度(kb/s)\nwrites_ps : 書き込み要求数\nrest command : |rest /services/server/status/resource-usage/iostats\n Indexes Indexの状態に関するログ。\nname : インデックス名\ntotal_bucket_count : バケツ数\ntotal_event_count : イベント数\ntotal_raw_size : Frozen以外のrawdataサイズ\ntotal_size : インデックスの合計サイズ\nbucket_dirs : バケツの保存ファイルパス\nbucket_count : バケツ数\nevent_count : イベント数\nevent_min_time : イベントの最小時間\nevent_max_time : イベントの最大時間\nrest command : |rest /services/data/indexes-extended\n Hostwide cpu_arch : CPUアーキテクチャ\ncpu_count : CPU数\ncpu_idle_pct : CPUの未使用率\ncpu_system_pct : システムによるCPU消費率\ncpu_user_pct : ユーザによるCPU消費率\nforks : OS起動以降にフォークされた累計プロセス数\nmem : 物理メモリ容量\nmem_used : メモリ消費量(=total - free - buffer - cached)\nnormalized_load_avg_1min :\nos_build : OSバージョン\nos_name : OS名\nos_name_ext : OS名(詳細)\nos_version : OSバージョン\npg_paged_out : OS起動以降にページングされた累積ページ数\npg_swapped_out : OS起動以降にスワップされた累積ページ数\nrunnable_process_count : 実行可能なプロセス数\nsplunk_version : Splunkバージョン\nswap : スワップ領域\nswap_used : スワップ使用量\nrest command : |rest /services/server/status/resource-usage/hostwide\n"
},
{
	"uri": "https://spacevveasel.github.io/misc/",
	"title": "Misc",
	"tags": [],
	"description": "",
	"content": "Web検索ワード等の識別方法 各種検索エンジンと検索ワード、検索カテゴリの一覧\n※検索ワードにはすべてtestを使用\n   サーチエンジン 検索カテゴリ URL     Google ウェブ www.google.com/search?q=test   Google 画像 www.google.com/search?q=test\u0026amp;tbm=isch   Google ニュース www.google.com/search?q=test\u0026amp;tbm=nws   Google ショッピング www.google.com/search?q=test\u0026amp;tbm=shop   Google 地図 www.google.com/maps?q=test   Google 動画 www.google.com/search?q=test\u0026amp;tbm=vid   Google 書籍 www.google.com/search?q=test\u0026amp;tbm=bks   Google フライト www.google.com/search?q=test\u0026amp;tbm=flm   Google ファイナンス www.google.com/search?q=test\u0026amp;tbm=fin   Yahoo ウェブ search.yahoo.co.jp/search?p=test   Yahoo 画像 search.yahoo.co.jp/image/search?p=test   Yahoo 動画 search.yahoo.co.jp/video/search?p=test   Yahoo 地図 map.yahoo.co.jp/mapsearch/search?p=test   Yahoo リアルタイム search.yahoo.co.jp/realtime/search?p=test   Bing ウェブ www.bing.com/search?q=test   Bing ニュース www.bing.com/news/search?q=test   Bing 画像 www.bing.com/images/search?q=test   Bing 動画 www.bing.com/videos/search?q=test   Bing 地図 www.bing.com/maps?q=test   DuckDuckGo Web duckduckgo.com/?q=test\u0026amp;ia=web   DuckDuckGo 画像 duckduckgo.com/?q=test\u0026amp;iax=images\u0026amp;ia=images   DuckDuckGo 動画 duckduckgo.com/?q=test\u0026amp;iax=videos\u0026amp;ia=videos   DuckDuckGo ニュース duckduckgo.com/?q=test\u0026amp;iar=news\u0026amp;ia=news   DuckDuckGo 地図 duckduckgo.com/?q=test\u0026amp;iaxm=maps     削除されたリモートブランチをローカルから削除する git remote prune origin\n"
},
{
	"uri": "https://spacevveasel.github.io/splunk/tips/",
	"title": "Tips",
	"tags": [],
	"description": "",
	"content": "REST API を用いた設定ファイルの更新 Appsの更新\ncurl -k -u admin:\u0026lt;password\u0026gt; https://localhost:8089/sercicesNS/nobody/system/apps/local/\u0026lt;app\u0026gt;/_reload\nフィールド抽出に関する設定の更新\ncurl -k -u admin:\u0026lt;password\u0026gt; https://localhost:8089/sercicesNS/nobody/\u0026lt;app\u0026gt;/data/props/extractions/_reload\nファイルモニターに関する設定の更新\ncurl -k -u admin:\u0026lt;password\u0026gt; https://localhost:8089/sercicesNS/nobody/\u0026lt;app\u0026gt;/data/inputs/monitor/_reload \nBucketの命名規則 db_\u0026lt;latest_event_time\u0026gt;_\u0026lt;earliest_event_time\u0026gt;_\u0026lt;id_num\u0026gt;\nlatest_event_time : ログの最新のタイムスタンプ\nearliest_event_time : ログの最古のタイムスタンプ\n dbinspect コマンド バケツの状態によって、タイムレンジピッカーの当たるフィールドが違う。\nHot : modTime\nWarm,Cold,Frozen : endEpoch\n ログ取り込み量を確認するサーチ index=_internal component=LicenseUsage | timechart sum(b) as bytes\n Splunkの取込みログ確認について 予想であるが、Splunkはログ取込みの際に以下の項目によって監視していると思われる。\n inputs.confのiniCecLength props.confのcheck_method 読み込み部分を記録するSeekPointer  Index時の動作について\nhttps://wiki.splunk.com/Community:HowIndexingWorks\n"
},
{
	"uri": "https://spacevveasel.github.io/",
	"title": "Top Page",
	"tags": [],
	"description": "",
	"content": "宇宙イタチのメモ 日々、得た知識を定期的にメモとして残すためのWikiのようなもの\n"
},
{
	"uri": "https://spacevveasel.github.io/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://spacevveasel.github.io/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]